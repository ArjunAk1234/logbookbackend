1Ô∏è‚É£ Login

POST /api/login

Request
{
  "email": "admin@gmail.com",
  "password": "123456"
}

Response
{
  "token": "JWT_TOKEN",
  "role": "admin"
}

üëë ADMIN ‚Äî DEPARTMENTS
2Ô∏è‚É£ Create Department

POST /api/admin/depts

Request
{
  "name": "Computer Science",
  "code": "CSE"
}

Response
{
  "id": 1,
  "dept_name": "Computer Science",
  "dept_code": "CSE"
}

3Ô∏è‚É£ Get Departments

GET /api/admin/depts

Response
[
  {
    "id": 1,
    "dept_name": "Computer Science",
    "dept_code": "CSE"
  }
]

4Ô∏è‚É£ Update Department

PUT /api/admin/depts/1

Request
{
  "name": "CSE",
  "code": "CS"
}

Response
{
  "message": "Department Updated"
}

5Ô∏è‚É£ Delete Department

DELETE /api/admin/depts/1

Response
{
  "message": "Department Deleted"
}

üëë ADMIN ‚Äî BATCHES
6Ô∏è‚É£ Create Batch

POST /api/admin/batches

Request
{
  "dept_id": 1,
  "start_year": 2022,
  "end_year": 2026,
  "batch_name": "2022-26"
}

Response
{
  "id": 1,
  "dept_id": 1,
  "start_year": 2022,
  "end_year": 2026,
  "batch_name": "2022-26"
}

7Ô∏è‚É£ Get Batches

GET /api/admin/batches

Response
[
  {
    "id": 1,
    "dept_id": 1,
    "dept_code": "CSE",
    "start_year": 2022,
    "end_year": 2026,
    "batch_name": "2022-26"
  }
]

8Ô∏è‚É£ Update Batch

PUT /api/admin/batches/1

Request
{
  "start_year": 2023,
  "end_year": 2027,
  "batch_name": "2023-27"
}

Response
{
  "message": "Batch Updated"
}

9Ô∏è‚É£ Delete Batch

DELETE /api/admin/batches/1

Response
{
  "message": "Batch Deleted"
}

üëë ADMIN ‚Äî SECTIONS
üîü Create Section

POST /api/admin/sections

Request
{
  "batch_id": 1,
  "section_name": "A"
}

Response
{
  "id": 1,
  "batch_id": 1,
  "section_name": "A"
}

1Ô∏è‚É£1Ô∏è‚É£ Get Sections

GET /api/admin/sections

Response
[
  {
    "id": 1,
    "batch_id": 1,
    "batch_name": "2022-26",
    "section_name": "A"
  }
]

1Ô∏è‚É£2Ô∏è‚É£ Update Section

PUT /api/admin/sections/1

Request
{
  "section_name": "B"
}

Response
{
  "message": "Section Updated"
}

1Ô∏è‚É£3Ô∏è‚É£ Delete Section

DELETE /api/admin/sections/1

Response
{
  "message": "Section Deleted"
}

üëë ADMIN ‚Äî FACULTY
1Ô∏è‚É£4Ô∏è‚É£ Create Faculty

POST /api/admin/faculty

Request
{
  "email": "sir@gmail.com",
  "password": "123456",
  "name": "Dr Kumar",
  "dept_id": 1,
  "auth_key": "123456"
}

Response
{
  "message": "Faculty Created"
}

1Ô∏è‚É£5Ô∏è‚É£ Get Faculty

GET /api/admin/faculty

Response
[
  {
    "id": 10,
    "faculty_name": "Dr Kumar",
    "email": "sir@gmail.com",
    "dept_code": "CSE",
    "authorization_key": "123456"
  }
]

1Ô∏è‚É£6Ô∏è‚É£ Update Faculty

PUT /api/admin/faculty/10

Request
{
  "name": "Dr Raj",
  "auth_key": "654321",
  "dept_id": 1
}

Response
{
  "message": "Faculty Profile Updated"
}

1Ô∏è‚É£7Ô∏è‚É£ Delete Faculty

DELETE /api/admin/faculty/10

Response
{
  "message": "Faculty Deleted"
}

üëë ADMIN ‚Äî STUDENTS
1Ô∏è‚É£8Ô∏è‚É£ Create Student

POST /api/admin/students

Request
{
  "roll": "CSE01",
  "name": "Arjun",
  "email": "arjun@gmail.com",
  "section_id": 1
}

Response
{
  "message": "Student Added"
}

1Ô∏è‚É£9Ô∏è‚É£ Get Students

GET /api/admin/students

Response
[
  {
    "id": 1,
    "roll_number": "CSE01",
    "full_name": "Arjun",
    "email": "arjun@gmail.com",
    "section_id": 1,
    "section_name": "A"
  }
]

2Ô∏è‚É£0Ô∏è‚É£ Update Student

PUT /api/admin/students/1

Request
{
  "roll": "CSE02",
  "name": "Arjun K",
  "email": "arjun@gmail.com",
  "section_id": 1
}

Response
{
  "message": "Student Updated"
}

2Ô∏è‚É£1Ô∏è‚É£ Delete Student

DELETE /api/admin/students/1

Response
{
  "message": "Student Deleted"
}

2Ô∏è‚É£2Ô∏è‚É£ Promote to CR

POST /api/admin/promote-cr

Request
{
  "student_id": 1,
  "password": "123456"
}

Response
{
  "message": "Promoted to CR"
}

üëë ADMIN ‚Äî COURSES
2Ô∏è‚É£3Ô∏è‚É£ Create Course

POST /api/admin/courses

Request
{
  "code": "CS301",
  "name": "DBMS",
  "credits": 4,
  "dept_id": 1
}

Response
{
  "message": "Course Created"
}

2Ô∏è‚É£4Ô∏è‚É£ Get Courses

GET /api/admin/courses

Response
[
  {
    "course_code": "CS301",
    "course_name": "DBMS",
    "credits": 4,
    "dept_id": 1
  }
]

2Ô∏è‚É£5Ô∏è‚É£ Update Course

PUT /api/admin/courses/CS301

Request
{
  "name": "Advanced DBMS",
  "credits": 5
}

Response
{
  "message": "Course Updated"
}

2Ô∏è‚É£6Ô∏è‚É£ Delete Course

DELETE /api/admin/courses/CS301

Response
{
  "message": "Course Deleted"
}

üëë ADMIN ‚Äî TIMETABLE
2Ô∏è‚É£7Ô∏è‚É£ Add Slot

POST /api/admin/timetable

Request
{
  "section_id": 1,
  "semester": 5,
  "day": "Mon",
  "slot": 1,
  "course_code": "CS301",
  "faculty_id": 10,
  "room": "B201"
}

Response
{
  "message": "Slot Added"
}

2Ô∏è‚É£8Ô∏è‚É£ Update Slot

PUT /api/admin/timetable/5

Request
{
  "day": "Tue",
  "slot": 2,
  "course_code": "CS301",
  "faculty_id": 10,
  "room": "B202"
}

Response
{
  "message": "Slot Updated"
}

2Ô∏è‚É£9Ô∏è‚É£ Delete Slot

DELETE /api/admin/timetable/5

Response
{
  "message": "Slot Deleted"
}

3Ô∏è‚É£0Ô∏è‚É£ Admin: Sessions by Timetable

GET /api/admin/sessions-by-timetable/5

Response
[
  {
    "id": 100,
    "session_date": "2026-01-10",
    "is_verified_by_faculty": false,
    "marked_by": "cr@gmail.com"
  }
]

3Ô∏è‚É£1Ô∏è‚É£ Admin: Records by Session

GET /api/admin/records-by-session/100

Response
[
  {
    "roll_number": "CSE01",
    "full_name": "Arjun",
    "status": "P"
  }
]

üë®‚Äçüè´ FACULTY
3Ô∏è‚É£2Ô∏è‚É£ Regenerate Token

PUT /api/faculty/regen-token

Response
{
  "message": "New Token Generated",
  "token": "654321"
}

3Ô∏è‚É£3Ô∏è‚É£ Verify Attendance

PUT /api/faculty/verify/100

Request
{
  "token": "654321"
}

Response
{
  "message": "Attendance verified and locked"
}

üßë‚Äçüéì CR
3Ô∏è‚É£4Ô∏è‚É£ My Courses

GET /api/cr/my-courses

Response
[
  {
    "course_code": "CS301",
    "course_name": "DBMS"
  }
]

3Ô∏è‚É£5Ô∏è‚É£ Students by Timetable

GET /api/cr/students-by-timetable/5

Response
[
  {
    "id": 1,
    "roll_number": "CSE01",
    "full_name": "Arjun"
  }
]

3Ô∏è‚É£6Ô∏è‚É£ Mark Attendance

POST /api/cr/attendance

Request
{
  "timetable_id": 5,
  "date": "2026-01-13",
  "selected_course_code": "CS301",
  "is_free": false,
  "records": [
    { "id": 1, "status": "P" },
    { "id": 2, "status": "A" }
  ]
}

Response
{
  "message": "Attendance processed",
  "sessionId": 200,
  "category": "normal"
}


3Ô∏è‚É£7Ô∏è‚É£ Get Timetable (By Section + Semester)

GET

/api/common/timetable?section_id=1&semester=5

Headers
Authorization: Bearer JWT_TOKEN

‚úÖ Sample Response
[
  {
    "id": 10,
    "section_id": 1,
    "semester": 5,
    "day": "Mon",
    "slot_number": 1,
    "course_code": "CS301",
    "faculty_user_id": 12,
    "room_info": "B201",
    "course_name": "Database Management Systems",
    "faculty_name": "Dr Kumar"
  },
  {
    "id": 11,
    "section_id": 1,
    "semester": 5,
    "day": "Mon",
    "slot_number": 2,
    "course_code": "CS302",
    "faculty_user_id": 15,
    "room_info": "B202",
    "course_name": "Operating Systems",
    "faculty_name": "Dr Raj"
  },
  {
    "id": 12,
    "section_id": 1,
    "semester": 5,
    "day": "Tue",
    "slot_number": 1,
    "course_code": "CS303",
    "faculty_user_id": 12,
    "room_info": "B201",
    "course_name": "Computer Networks",
    "faculty_name": "Dr Kumar"
  }
]

3Ô∏è‚É£8Ô∏è‚É£ Week Grid (Shows attendance status overlay)

GET

/api/common/week-grid?section_id=1&start_date=2026-01-12


(start_date must be Monday)

Headers
Authorization: Bearer JWT_TOKEN

‚úÖ Sample Response
[
  {
    "id": 10,
    "section_id": 1,
    "semester": 5,
    "day": "Mon",
    "slot_number": 1,
    "course_code": "CS301",
    "faculty_user_id": 12,
    "room_info": "B201",
    "course_name": "Database Management Systems",
    "faculty_name": "Dr Kumar",
    "session_category": "normal",
    "session_id": 101
  },
  {
    "id": 11,
    "section_id": 1,
    "semester": 5,
    "day": "Mon",
    "slot_number": 2,
    "course_code": "CS302",
    "faculty_user_id": 15,
    "room_info": "B202",
    "course_name": "Operating Systems",
    "faculty_name": "Dr Raj",
    "session_category": null,
    "session_id": null
  },
  {
    "id": 12,
    "section_id": 1,
    "semester": 5,
    "day": "Tue",
    "slot_number": 1,
    "course_code": "CS303",
    "faculty_user_id": 12,
    "room_info": "B201",
    "course_name": "Computer Networks",
    "faculty_name": "Dr Kumar",
    "session_category": "free",
    "session_id": 102
  }
]

üìå Meaning of session_category
Value	Meaning
null	Not yet marked
normal	Regular class
swap	Swapped subject
free	Free hour
3Ô∏è‚É£9Ô∏è‚É£ Timetable By Class (Public View)

GET

/api/common/timetable-by-class?dept_code=CSE&section_name=A&semester=5

Headers
Authorization: Bearer JWT_TOKEN

‚úÖ Sample Response
[
  {
    "id": 10,
    "section_id": 1,
    "semester": 5,
    "day": "Mon",
    "slot_number": 1,
    "course_code": "CS301",
    "faculty_user_id": 12,
    "room_info": "B201",
    "course_name": "Database Management Systems",
    "faculty_name": "Dr Kumar"
  },
  {
    "id": 11,
    "section_id": 1,
    "semester": 5,
    "day": "Mon",
    "slot_number": 2,
    "course_code": "CS302",
    "faculty_user_id": 15,
    "room_info": "B202",
    "course_name": "Operating Systems",
    "faculty_name": "Dr Raj"
  },
  {
    "id": 12,
    "section_id": 1,
    "semester": 5,
    "day": "Tue",
    "slot_number": 1,
    "course_code": "CS303",
    "faculty_user_id": 12,
    "room_info": "B201",
    "course_name": "Computer Networks",
    "faculty_name": "Dr Kumar"
  }
]
